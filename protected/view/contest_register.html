<style>
        .form-control:disabled, .form-control[disabled]{
            background-color: transparent;
        }
    
        contest,card,.carousel{
            display: block;
            box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 30px;
            border-radius: 4px;
            transition: .2s ease-out .0s;
            color: #7a8e97;
            background: #fff;
            position: relative;
            border: 1px solid rgba(0, 0, 0, 0.15);
            margin-bottom: 2rem;
            overflow: hidden;
        }
    
        card{
            padding:1rem;
        }
    
        contest > .atsast-img-container{
            overflow: hidden;
            height:15rem;
            width:35rem;
            position: absolute;
            top:-2.5rem;
            right:-2.5rem;
        }
    
        contest:hover,
        card:hover {
            box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 40px;
        }
    
        contest > .atsast-img-container-small{
            width:100%;
            height:15rem;
        }
    
        contest > .atsast-img-container-small > img{
            height:100%;
            width:100%;
        }
    
        contest > .atsast-img-container::after{
            content: "";
            display: block;
            position: absolute;
            z-index: 1;
            top:-2.5rem;
            left:-2.5rem;
            bottom:-2.5rem;
            right:-1px;
            background:linear-gradient(to right,rgba(255,255,255,1) 10%,rgba(255,255,255,0) 100%);
        }
    
        contest > .atsast-content-container{
            /* display: flex;
            align-items: center; */
            height:100%;
            flex-shrink: 1;
            flex-grow: 1;
            padding:1rem;
            z-index: 1;
        }
    
        contest > .atsast-img-container > img{
            height:100%;
            width:100%;
            object-fit: cover;
        }
    
        card:hover {
            box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 40px;
        }
    
        h5{
            margin-bottom:1rem;
        }
    
    
        .carousel-caption{
            padding: 0;
            bottom: 0;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    
        .carousel-item > img{
            height: 25rem;
            object-fit: cover;
        }
    
        .carousel-fade .carousel-item {
            opacity: 0;
            transition-duration: .6s;
            transition-property: opacity
        }
    
        .carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active {
            opacity: 1
        }
    
        .carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right {
            opacity: 0
        }
    
        .carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-prev,.carousel-fade .carousel-item-next,.carousel-fade .carousel-item-prev,.carousel-fade .carousel-item.active {
            -webkit-transform: translateX(0);
            transform: translateX(0)
        }
    
        @supports ((-webkit-transform-style: preserve-3d) or (transform-style:preserve-3d)) {
            .carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-prev,.carousel-fade .carousel-item-next,.carousel-fade .carousel-item-prev,.carousel-fade .carousel-item.active {
                -webkit-transform:translate3d(0,0,0);
                transform: translate3d(0,0,0)
            }
        }
    </style>
    <div class="container mundb-standard-container">
        <section class="mb-5">
            <h1 class="mb-3"><i class="MDI checkbox-marked-circle-outline"></i> 赛事报名</h1>
            <hr class="atsast-line mb-5">
            <div class="row">
                <div class="col-md-4 col-sm-12">
                    <contest>
                        <div class="atsast-img-container-small">
                            <img src="<{$basic_info['image']}>">
                        </div>
                        <div class="atsast-content-container">
                            <h3 class="mundb-text-truncate-2"><{$basic_info['name']}></h3>
                            <p class="mundb-text-truncate-1"><{$basic_info['creator_name']}> · <{if $basic_info['type']==1}>线上<{else}>线下<{/if}>比赛</p>
                            <p class="mundb-text-truncate-1"><i class="MDI clock"></i> <{$basic_info['parse_date']}> </p>
                        </div>
                    </contest>
                </div>
                <div class="col-md-8 col-sm-12">
                    <card>
                        <h5><{$contest_name}></h5>
                        <{foreach $requirements as $r}>
                        <div class="form-group">
                            <label for="name" class="bmd-label-floating"><{$fields[$r]['placeholder']}><{ if $fields[$r]['required']}>*<{/if}></label>
                            <input type="text" class="form-control" name="<{$fields[$r]['name']}>" value="<{ if isset($fields[$r]['value'])}><{$fields[$r]['value']}><{/if}>" id="<{$fields[$r]['name']}>"<{ if $fields[$r]['required']}> required<{/if}><{ if $fields[$r]['fixed']}> disabled<{/if}>>
                        </div>
                        <{/foreach}>
                        <div class="text-right">
                            <button onclick="submit()" data-hid="3" id="btn_submit_3" class="btn btn-outline-primary">提交<div class="ripple-container"></div></button>
                        </div>
                    </card>
                </div>
            </div>
        </section>
        <div id="modal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modeal_title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="modeal_desc"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
                </div>
                </div>
            </div>
        </div>
        <script>
            function alert(desc,title="提示"){
                $('#modeal_desc').html(desc);
                $('#modeal_title').html(title);
                $('#modal').modal();
            }
            function submit() {
                var $inputs = $("contest input");
                var data = {contest_id:<{$coid}>};
                for (var i = 0; i < $inputs.length; ++i) {
                    var input = $inputs[i];
                    data[input.id] = input.value;
                    if (input.required && input.value == "") {
                        alert("请填写所有未填项");
                        return;
                    }
                }
                console.log(data);
                $.post("/ajax/RegisterContest", data, (data, status) => {
                    data = JSON.parse(data);
                    alert(data.desc);
                }).fail((req) => {
                    alert("发生错误");
                });
            }
        </script>
    </div>